{% extends "base.html" %}

{% block title %}Windows WireGuard Setup - Homelab{% endblock %}

{% block content %}
<section class="wireguard-section">
    <a href="/wireguard" class="back-link"><i class="fas fa-arrow-left"></i> Back to WireGuard</a>

    <h1><i class="fab fa-windows"></i> Windows Setup</h1>

    <div class="steps">
        <div class="step">
            <div class="step-number">1</div>
            <div class="step-content">
                <h3>Install WireGuard</h3>
                <p>Download WireGuard from the <a href="https://www.wireguard.com/install/" target="_blank">official website</a>.</p>
                <p>Run the installer and follow the prompts.</p>
            </div>
        </div>

        <div class="step">
            <div class="step-number">2</div>
            <div class="step-content">
                <h3>Get Your Configuration</h3>
                <p>On your homelab server, find your peer's config file:</p>
                <code>~/homelab/config/wireguard/peer_laptop/peer_laptop.conf</code>
                <p>Copy this file to your Windows computer (via USB, email, SCP, etc.).</p>
            </div>
        </div>

        <div class="step">
            <div class="step-number">3</div>
            <div class="step-content">
                <h3>Import Configuration</h3>
                <ol>
                    <li>Open the WireGuard application</li>
                    <li>Click <strong>"Import tunnel(s) from file"</strong></li>
                    <li>Select your <code>peer_laptop.conf</code> file</li>
                    <li>The tunnel will appear in the list</li>
                </ol>
            </div>
        </div>

        <div class="step">
            <div class="step-number">4</div>
            <div class="step-content">
                <h3>Connect</h3>
                <p>Select the tunnel and click <strong>"Activate"</strong>.</p>
                <p>The status should change to "Active" with a green indicator.</p>
            </div>
        </div>

        <div class="step">
            <div class="step-number">5</div>
            <div class="step-content">
                <h3>Test Connection</h3>
                <p>Open a browser and navigate to:</p>
                <code>http://10.100.0.1</code>
                <p>You should see this dashboard!</p>
            </div>
        </div>
    </div>

    <div class="info-box">
        <h3><i class="fas fa-lightbulb"></i> Tips</h3>
        <ul>
            <li>WireGuard runs in the system tray - right-click the icon to connect/disconnect</li>
            <li>Enable "Activate on launch" in tunnel settings for auto-connect</li>
            <li>Server endpoint: <code>{{ wg_server }}:{{ wg_port }}</code></li>
        </ul>
    </div>

    <div class="info-box warning">
        <h3><i class="fas fa-exclamation-triangle"></i> Firewall Note</h3>
        <p>
            If you have trouble connecting, ensure your firewall allows WireGuard.
            Windows Firewall should prompt automatically, but you may need to allow it manually.
        </p>
    </div>
</section>
{% endblock %}
